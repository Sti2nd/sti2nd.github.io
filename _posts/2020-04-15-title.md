---
layout: post
title:  "Printing correct size using CSS"
date:   2020-04-15 21:22:30 +0100
categories: []
tags: [english, CSS]
permalink: /LINK/
---

_Last updated: 15th of April 2020_

## Introduction and problem

On one personal project of mine I wanted to print a box (a HTML div) on paper with the specific dimensions 32mm x 35mm. Said again a little differently, I wanted the box on the paper to be 32mm x 35mm in our real physical world. And, I wanted to use CSS to design that box.

The first thing that comes to mind is that it would be nice if one could just tell CSS that the width is 32mm and the height is 35mm. Turns out, you can! CSS actually supports `mm` as a unit, so let's use it.

Measuring my laptop screen the dimensions were off. I thought it perhaps would solve itself when printing. It turns out, it didn't. Did I do anything wrong? What is the purpose of the CSS units `in`, `cm` and `mm` if they don't match the standardization (the International System of Units)?

From now on when I write `cm` I also mean `cm`, `mm`, `in` and [the other absolute length units](https://www.w3.org/TR/css3-values/#absolute-lengths).

## Some answers

I googled and came over an [issue on CSS' ability to display physical size](https://github.com/w3c/csswg-drafts/issues/614) on the Github repo of CSS Working Group Editor Drafts. The thread was started by Nick Sherman who wants the `cm` unit on screen to be rendered in equal lenght as its physical counterpart; 1 cm on screen should match 1 cm in real life. Not exactly the same problem I had, but there is much more to learn here. I found [another text about CSS units](https://webplatform.github.io/docs/tutorials/understanding-css-units/), this time from the archived WebPlatform project, to supplement the Github thread.

### Historical reasons

Back when it was common for screens to have 96 device pixels per inch (96 dppi) the CSS `cm` was defined. At that time, printing at 96 dots per inch (96 dpi) was the exact same length as 1 inch on most screens, since they had 96 device pixels per inch. Said in another way, the device pixels were equally far away from each other on screen as the dots were on paper, with the result that 1 cm on a screen was 1 cm on paper.

Then the device pixels per inch started increasing. At first the physical units in CSS were required to display correctly [according to W3C](https://www.w3.org/Style/Examples/007/units.en.html), but then:
> "as the number of incorrect implementations outnumbered correct ones and the situation didn't seem to improve, CSS abandoned that requirement in 2011."
>
> \- [W3C](https://www.w3.org/Style/Examples/007/units.en.html)

Instead, since most of the existing web pages assumed 96px would look 1 inch big on the screen, CSS went ahead and defined **1 inch to be equal 96px**. Just check [the offical CSS spec](https://www.w3.org/TR/css3-values/#absolute-lengths) to see it for yourself. Now we now that the absolute units on screen doesn't necessarily match the standard physical units in the real world because the absolute units are tied to the pixel.

### Magic pixels

This is somewhat of a sidetrack, but since we are already confused that an inch is not an inch, what if a pixel was not a pixel? ðŸ¥´ This is the explanation of why 96px on a high-resolution screen (e.g. a phone) has about the same physical size as 96px on a low-resulution screen.

With higher resolutions (meaning more device pixels per inch), one would think that 96px would look smaller and smaller. This is true, if we were talking about 96 device pixels. However, when we use the `px` unit in CSS we are using CSS pixels! One CSS pixel consists of a number of device pixels, the number differs for different screens. 96 CSS pixels are supposed to be 1 physical inch. This fixes the problem that 1 inch was getting smaller on high-resolution screens, and screens with different pixel densities should be able to show 1 inch as 1 physical inch.

TODO: measure 1cm on my screen
TODO: print using Firefox
